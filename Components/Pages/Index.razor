@page "/"
@layout DailyJournal.Components.Layout.EmptyLayout
@inject DailyJournal.Core.Services.IUserService UserService
@inject NavigationManager Nav

@code {
	// checking if user has PIN and redirecting to login page
	protected override async Task OnInitializedAsync()
	{
		try
		{
			var hasPin = await UserService.HasPinAsync();

			// redirecting to login page for authentication or PIN setup
			Nav.NavigateTo("/login", replace: true);
		}
		catch (Exception ex)
		{
			System.Diagnostics.Debug.WriteLine($"Error checking PIN status: {ex}");
			Nav.NavigateTo("/login", replace: true);
		}
	}
}
